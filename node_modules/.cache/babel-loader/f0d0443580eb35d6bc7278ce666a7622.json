{"ast":null,"code":"import { useEffect, useState } from \"react\";\n\nconst useHttp = async taskText => {\n  const url = 'https://react-http-cbdbb-default-rtdb.europe-west1.firebasedatabase.app/tasks.json';\n  const response = {};\n\n  try {\n    if (taskText) {\n      response = await fetch(url, {\n        method: 'POST',\n        body: JSON.stringify({\n          text: taskText\n        }),\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n    } else {\n      response = await fetch(url);\n    }\n\n    if (!response.ok) {\n      throw new Error(\"Request failed!\");\n    }\n\n    const data = await response.json();\n    return data;\n  } catch (err) {\n    setError(err.message || 'Something went wrong!');\n  }\n};\n\nexport default useHttp;","map":{"version":3,"sources":["C:/Users/jyoth/Documents/ReactApps/CustumHooks2/src/components/hooks/use-http.js"],"names":["useEffect","useState","useHttp","taskText","url","response","fetch","method","body","JSON","stringify","text","headers","ok","Error","data","json","err","setError","message"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;;AAEA,MAAMC,OAAO,GAAG,MAAOC,QAAP,IAAoB;AAEhC,QAAMC,GAAG,GAAG,oFAAZ;AACA,QAAMC,QAAQ,GAAG,EAAjB;;AACA,MAAI;AACA,QAAGF,QAAH,EAAY;AACPE,MAAAA,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,EACnB;AACEG,QAAAA,MAAM,EAAE,MADV;AAEEC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,UAAAA,IAAI,EAAER;AAAR,SAAf,CAFR;AAGES,QAAAA,OAAO,EAAE;AACP,0BAAgB;AADT;AAHX,OADmB,CAAtB;AASJ,KAVD,MAWI;AACAP,MAAAA,QAAQ,GAAG,MAAMC,KAAK,CAACF,GAAD,CAAtB;AACC;;AAGP,QAAI,CAACC,QAAQ,CAACQ,EAAd,EAAkB;AAChB,YAAM,IAAIC,KAAJ,CAAU,iBAAV,CAAN;AACD;;AAED,UAAMC,IAAI,GAAG,MAAMV,QAAQ,CAACW,IAAT,EAAnB;AACA,WAAOD,IAAP;AAED,GAxBD,CAwBE,OAAOE,GAAP,EAAY;AACVC,IAAAA,QAAQ,CAACD,GAAG,CAACE,OAAJ,IAAe,uBAAhB,CAAR;AAAkD;AAEzD,CA/BD;;AAgCA,eAAejB,OAAf","sourcesContent":["import { useEffect, useState } from \"react\";\r\n\r\nconst useHttp = async (taskText) => {\r\n   \r\n    const url = 'https://react-http-cbdbb-default-rtdb.europe-west1.firebasedatabase.app/tasks.json'\r\n    const response = {}\r\n    try {\r\n        if(taskText){\r\n             response = await fetch(url ,\r\n                {\r\n                  method: 'POST',\r\n                  body: JSON.stringify({ text: taskText }),\r\n                  headers: {\r\n                    'Content-Type': 'application/json',\r\n                  },\r\n                }\r\n              );\r\n        }\r\n        else{\r\n            response = await fetch(url)\r\n            }\r\n     \r\n          \r\n      if (!response.ok) {\r\n        throw new Error(\"Request failed!\");\r\n      }\r\n\r\n      const data = await response.json();\r\n      return data\r\n     \r\n    } catch (err) {\r\n        setError(err.message || 'Something went wrong!');}\r\n    \r\n}\r\nexport default useHttp;\r\n"]},"metadata":{},"sourceType":"module"}